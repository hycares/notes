单例模式

单例模式是为了解决性能问题，如果只需要一个实例对象，那么就不应该频繁new，构造函数应该delete并且通过实例函数返回结果。一个重点是如何构造第一个实例！

![image-20210102102538428](../assets/image-20210102102538428.png)

参考代码：

1. 基本单例模式 
2. 加锁单例
3. 双检查锁
4. 内存屏障
5. C++11 local static

![image-20210102102810208](../assets/image-20210102102810208.png)